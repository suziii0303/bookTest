--------------------------------------------------------
--  파일이 생성됨 - 월요일-12월-11-2023   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence BOARD_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "BOARD_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence BOOK_NUM_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "BOOK_NUM_SEQ"  MINVALUE 1 MAXVALUE 999 INCREMENT BY 1 START WITH 5 NOCACHE  NOORDER  CYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence BOOK_NUM_SEQUENCE
--------------------------------------------------------

   CREATE SEQUENCE  "BOOK_NUM_SEQUENCE"  MINVALUE 1 MAXVALUE 999 INCREMENT BY 1 START WITH 29 NOCACHE  NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence ORDERINFO_SEQUENCE
--------------------------------------------------------

   CREATE SEQUENCE  "ORDERINFO_SEQUENCE"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence RECEIPT_SEQUENCE
--------------------------------------------------------

   CREATE SEQUENCE  "RECEIPT_SEQUENCE"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence RENTAL_NUM_SEQUENCE
--------------------------------------------------------

   CREATE SEQUENCE  "RENTAL_NUM_SEQUENCE"  MINVALUE 1 MAXVALUE 999 INCREMENT BY 1 START WITH 25 NOCACHE  NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Table BOOK
--------------------------------------------------------

  CREATE TABLE "BOOK" 
   (	"BOOK_CODE" VARCHAR2(30 BYTE), 
	"BOOK_NAME" VARCHAR2(100 BYTE), 
	"BOOK_DATE" DATE, 
	"BOOK_WRITER" VARCHAR2(30 BYTE), 
	"BOOK_YN" VARCHAR2(2 BYTE) DEFAULT 'N', 
	"BOOK_PLOT" VARCHAR2(3000 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table MEMBER
--------------------------------------------------------

  CREATE TABLE "MEMBER" 
   (	"MEM_ID" VARCHAR2(20 BYTE), 
	"MEM_PASS" VARCHAR2(20 BYTE), 
	"MEM_NAME" VARCHAR2(50 BYTE), 
	"MEM_TALL" VARCHAR2(14 BYTE), 
	"MEM_ADD" VARCHAR2(50 BYTE), 
	"MEM_AUTH" VARCHAR2(2 BYTE) DEFAULT 2
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON COLUMN "MEMBER"."MEM_AUTH" IS '접근 권한';
--------------------------------------------------------
--  DDL for Table RENTAL_BOOK
--------------------------------------------------------

  CREATE TABLE "RENTAL_BOOK" 
   (	"RENTAL_NUM" VARCHAR2(30 BYTE), 
	"RENTAL_SDATE" DATE, 
	"RENTAL_RDATE" DATE, 
	"BOOK_CODE" VARCHAR2(30 BYTE), 
	"MEM_ID" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON COLUMN "RENTAL_BOOK"."RENTAL_NUM" IS 'ID _ 도서코드?';
   COMMENT ON COLUMN "RENTAL_BOOK"."RENTAL_SDATE" IS '오늘 날짜';
   COMMENT ON COLUMN "RENTAL_BOOK"."RENTAL_RDATE" IS '7일';
REM INSERTING into BOOK
SET DEFINE OFF;
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231210B026','도서1',to_date('23/12/10','RR/MM/DD'),'김작가','Y','줄거리52');
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231210B027','도서3',to_date('23/12/10','RR/MM/DD'),'문작가','Y','줄거리3');
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231207B001','정수지 자소서',to_date('23/06/07','RR/MM/DD'),'이미지','Y','코딩테스트');
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231207B002','도서관리',to_date('23/12/07','RR/MM/DD'),'고구마','Y','취업하고싶다');
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231207B003','누가 내머리에 똥쌋어',to_date('23/12/07','RR/MM/DD'),'그러게','N','도서관리코테코테');
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231210B028','도서4',to_date('23/12/01','RR/MM/DD'),'작가4','N','줄거리4');
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231208B016','도서6',to_date('23/12/06','RR/MM/DD'),'임도서','N','줄거리6');
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231208B017','곰세마리',to_date('23/11/29','RR/MM/DD'),'hi','N','한집에있어');
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231210B024','도서5',to_date('23/12/10','RR/MM/DD'),'김도서','N','줄거리5');
Insert into BOOK (BOOK_CODE,BOOK_NAME,BOOK_DATE,BOOK_WRITER,BOOK_YN,BOOK_PLOT) values ('20231210B025','도서2',to_date('23/12/10','RR/MM/DD'),'ddf','N','dfafdas');
REM INSERTING into MEMBER
SET DEFINE OFF;
Insert into MEMBER (MEM_ID,MEM_PASS,MEM_NAME,MEM_TALL,MEM_ADD,MEM_AUTH) values ('a001','java','회원2','010-1234-1245','대전 중구 오류동 203-345','2');
Insert into MEMBER (MEM_ID,MEM_PASS,MEM_NAME,MEM_TALL,MEM_ADD,MEM_AUTH) values ('admin','java','관리자','010-0202-3535','대전유성구','1');
Insert into MEMBER (MEM_ID,MEM_PASS,MEM_NAME,MEM_TALL,MEM_ADD,MEM_AUTH) values ('java','java','회원1','010-4585-1454','대전유성구','2');
REM INSERTING into RENTAL_BOOK
SET DEFINE OFF;
Insert into RENTAL_BOOK (RENTAL_NUM,RENTAL_SDATE,RENTAL_RDATE,BOOK_CODE,MEM_ID) values ('20231210B0262312100630018',to_date('23/12/10','RR/MM/DD'),to_date('23/12/17','RR/MM/DD'),'20231210B026','a001');
Insert into RENTAL_BOOK (RENTAL_NUM,RENTAL_SDATE,RENTAL_RDATE,BOOK_CODE,MEM_ID) values ('20231210B0272312102017023',to_date('23/12/10','RR/MM/DD'),to_date('23/12/17','RR/MM/DD'),'20231210B027','a001');
Insert into RENTAL_BOOK (RENTAL_NUM,RENTAL_SDATE,RENTAL_RDATE,BOOK_CODE,MEM_ID) values ('20231210B0272312102017024',to_date('23/12/10','RR/MM/DD'),to_date('23/12/17','RR/MM/DD'),'20231210B027','java');
Insert into RENTAL_BOOK (RENTAL_NUM,RENTAL_SDATE,RENTAL_RDATE,BOOK_CODE,MEM_ID) values ('20231207B0022312100748021',to_date('23/12/10','RR/MM/DD'),to_date('23/12/17','RR/MM/DD'),'20231207B002','java');
Insert into RENTAL_BOOK (RENTAL_NUM,RENTAL_SDATE,RENTAL_RDATE,BOOK_CODE,MEM_ID) values ('20231210B0262312100801022',to_date('23/12/10','RR/MM/DD'),to_date('23/12/17','RR/MM/DD'),'20231210B026','a001');
Insert into RENTAL_BOOK (RENTAL_NUM,RENTAL_SDATE,RENTAL_RDATE,BOOK_CODE,MEM_ID) values ('20231210B0262312100737019',to_date('23/12/10','RR/MM/DD'),to_date('23/12/17','RR/MM/DD'),'20231210B026','java');
Insert into RENTAL_BOOK (RENTAL_NUM,RENTAL_SDATE,RENTAL_RDATE,BOOK_CODE,MEM_ID) values ('20231207B0012312100747020',to_date('23/12/10','RR/MM/DD'),to_date('23/12/17','RR/MM/DD'),'20231207B001','java');
--------------------------------------------------------
--  DDL for Index PK_TB_BOOK
--------------------------------------------------------

  CREATE UNIQUE INDEX "PK_TB_BOOK" ON "BOOK" ("BOOK_CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_TB_MEMBER
--------------------------------------------------------

  CREATE UNIQUE INDEX "PK_TB_MEMBER" ON "MEMBER" ("MEM_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_TB_RENTAL_BOOK
--------------------------------------------------------

  CREATE UNIQUE INDEX "PK_TB_RENTAL_BOOK" ON "RENTAL_BOOK" ("RENTAL_NUM") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_TB_BOOK
--------------------------------------------------------

  CREATE UNIQUE INDEX "PK_TB_BOOK" ON "BOOK" ("BOOK_CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_TB_MEMBER
--------------------------------------------------------

  CREATE UNIQUE INDEX "PK_TB_MEMBER" ON "MEMBER" ("MEM_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_TB_RENTAL_BOOK
--------------------------------------------------------

  CREATE UNIQUE INDEX "PK_TB_RENTAL_BOOK" ON "RENTAL_BOOK" ("RENTAL_NUM") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Function FN_GETCAMEL
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE FUNCTION "FN_GETCAMEL" (p_str VARCHAR2) RETURN VARCHAR2 IS
  RSLT VARCHAR2(100);
BEGIN
  RSLT := LOWER(SUBSTR(REPLACE(INITCAP(p_str), '_'), 1, 1)) ||
          SUBSTR(REPLACE(INITCAP(p_str), '_'), 2);
  RETURN RSLT;
END FN_GETCAMEL;

/
--------------------------------------------------------
--  Constraints for Table BOOK
--------------------------------------------------------

  ALTER TABLE "BOOK" MODIFY ("BOOK_CODE" NOT NULL ENABLE);
  ALTER TABLE "BOOK" MODIFY ("BOOK_NAME" NOT NULL ENABLE);
  ALTER TABLE "BOOK" MODIFY ("BOOK_DATE" NOT NULL ENABLE);
  ALTER TABLE "BOOK" MODIFY ("BOOK_WRITER" NOT NULL ENABLE);
  ALTER TABLE "BOOK" MODIFY ("BOOK_PLOT" NOT NULL ENABLE);
  ALTER TABLE "BOOK" ADD CONSTRAINT "PK_TB_BOOK" PRIMARY KEY ("BOOK_CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "BOOK" MODIFY ("BOOK_YN" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table MEMBER
--------------------------------------------------------

  ALTER TABLE "MEMBER" MODIFY ("MEM_ID" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("MEM_PASS" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("MEM_NAME" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("MEM_TALL" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("MEM_ADD" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" ADD CONSTRAINT "PK_TB_MEMBER" PRIMARY KEY ("MEM_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "MEMBER" MODIFY ("MEM_AUTH" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table RENTAL_BOOK
--------------------------------------------------------

  ALTER TABLE "RENTAL_BOOK" MODIFY ("RENTAL_NUM" NOT NULL ENABLE);
  ALTER TABLE "RENTAL_BOOK" MODIFY ("RENTAL_SDATE" NOT NULL ENABLE);
  ALTER TABLE "RENTAL_BOOK" MODIFY ("RENTAL_RDATE" NOT NULL ENABLE);
  ALTER TABLE "RENTAL_BOOK" MODIFY ("BOOK_CODE" NOT NULL ENABLE);
  ALTER TABLE "RENTAL_BOOK" MODIFY ("MEM_ID" NOT NULL ENABLE);
  ALTER TABLE "RENTAL_BOOK" ADD CONSTRAINT "PK_TB_RENTAL_BOOK" PRIMARY KEY ("RENTAL_NUM")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  
  
  SELECT * FROM PRODUCT_COMPONENT_VERSION;
